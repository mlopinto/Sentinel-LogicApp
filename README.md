# Sentinel-LogicApp

An easy way to make your Security Operations Center (SOC) analyst life easier. Instead of asking them to pivot to another screen to query a table and pull the results back into Sentinel, have them run this very basic logic app. This logic app can be configured to be ran manually or automatically when the incident is generated by the system and provide an output that is ledgable in order to make a quick determination / validation.

In this example, the logic app will read the incident, grab the IP addresses associated, and query each of the IPs against the Log Analytics workspace "SecurityAlert" table to pull back the AlertName, ProviderName, CompromisedEntity. The results will be parsed into a json, then formatted to an HTML table, and written to the comments.

Note: functionality exist to pull other entity types such as URLs, hostnames, etc. In addition, any column in the "SecurityAlert" table added to the query so it is outputed to the comments. 

This image the highlevel steps taken to complete this task. Remember, the query will need to be crafted for your specific use case. I do recommend making the query very specific so you don't exceed the comment limit of 30,000.  
![image](https://user-images.githubusercontent.com/86690212/166006516-60d55aca-944f-474b-97ae-cb89dc0e67af.png)

Each of the subsequent screenshots displays an example of the value / fields required.
![image](https://user-images.githubusercontent.com/86690212/166007166-19c6d5a5-906e-4b0f-a628-b011088ba5e8.png)

![image](https://user-images.githubusercontent.com/86690212/166007301-c6a5c7ff-185a-4760-937c-4900a127e8a8.png)

![image](https://user-images.githubusercontent.com/86690212/166007347-e9848e38-cafe-4ddc-a7ae-bea86c33408f.png)

![image](https://user-images.githubusercontent.com/86690212/166007589-9ef73104-4122-449e-a442-f067ca56da7e.png)
